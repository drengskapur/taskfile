#!/usr/bin/env sh

# Regular expression for conventional commits
# Format: type(scope): description
commit_regex="^(build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test)(\([a-z0-9-]+\))?: .+"

if ! grep -qE "$commit_regex" "$1"; then
  echo "‚ùå Invalid commit message format."
  echo "The commit message must follow the Conventional Commits specification:"
  echo "  type(scope): description"
  echo ""
  echo "Types: build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test"
  echo "Scope: Optional, e.g. (ui) or (api)"
  echo ""
  echo "Examples:"
  echo "  feat(ui): add new button component"
  echo "  fix: resolve memory leak"
  echo "  docs(api): update authentication docs"
  exit 1
fi
